"use strict";if(void 0===woostifyEvent)var woostifyEvent={};var productMetaSku=document.querySelector(".elementor-widget-woostify-product-meta .sku");function productVariation(e,t){var r=document.querySelectorAll(e);if(r.length){var o=r[0],i=o.getAttribute("data-pid"),a=t||'form.variations_form[data-product_id="'+i+'"]';jQuery(document.body).on("found_variation",a,function(t,r){var o=document.querySelectorAll(e);if(o.length&&document.querySelector(a)){var i=r.image.src,n=r.image.full_src,c=r.is_in_stock;r.image.src_h,i&&n&&o.forEach(function(e,t){var o=e.querySelector(woostify_product_images_slider_options.thumb.container);o&&o.children.length&&o.children[0].click();var a=null==o?e.querySelector(".image-item"):e.querySelector(".image-item.is-selected");if(null!=a){var u=!!a&&a.querySelector("img"),l=(u&&u.getAttribute("src"),u?u.getAttribute("srcset"):""),s=a.querySelector("a"),f=(s&&s.getAttribute("href"),e.querySelector(".thumbnail-item")),d=!!f&&f.querySelector("img");d&&d.getAttribute("src"),r.max_qty&&(woostify_woocommerce_general.qty_max_warning=woostify_woocommerce_general.qty_max_warning_variation.replace("%s",r.max_qty)),document.querySelectorAll(".single_add_to_cart_button").forEach(e=>e.value=r.variation_id);var y=document.querySelectorAll(".elementor-widget-woostify-product-meta .sku"),g=document.querySelectorAll(".wpm_gtin_code_wrapper .wpm_pgw_code");if(y&&y.forEach(function(e){e.innerHTML=r.sku}),g&&(g.forEach(function(e){e.innerHTML=r.sku}),r.wpm_pgw_code&&(wpmGtinCodeWrapper.innerHTML=r.wpm_pgw_code)),s&&s.setAttribute("href",n),u&&i){a.classList.add("image-loading");var p=a.closest(".flickity-viewport"),m=new Image;m.onload=function(){a.classList.remove("image-loading"),setTimeout(function(){null!=p&&(p.style.height=u.height+"px")},50)},m.src=i,u.setAttribute("src",i),l&&u.setAttribute("srcset",r.image.srcset)}d&&d.setAttribute("src",r.image.thumb_src),"function"==typeof easyZoomHandle&&easyZoomHandle();var v=e,w=!!v&&v.querySelector(".product-images"),q=!!w&&w.querySelector(".woostify-out-of-stock-label"),S=!!w&&w.querySelector(".woostify-tag-on-sale");if(c)r.max_qty&&"function"==typeof woostifyStockQuantityProgressBar&&setTimeout(function(){woostifyStockQuantityProgressBar()},200),q&&q.remove(),S&&"undefined"!=typeof woostify_woocommerce_variable_product_data&&woostify_woocommerce_variable_product_data.sale_tag_percent&&r.display_price!=r.display_regular_price&&(S.innerHTML="-"+Math.round((r.display_regular_price-r.display_price)/r.display_regular_price*100)+"%");else if("undefined"!=typeof woostify_woocommerce_variable_product_data){var h='<span class="woostify-out-of-stock-label position-'+woostify_woocommerce_variable_product_data.out_of_stock_display+" "+woostify_woocommerce_variable_product_data.out_of_stock_square+'">'+woostify_woocommerce_variable_product_data.out_of_stock_text+"</span>";q||w.insertAdjacentHTML("beforeend",h)}}})}}),jQuery(".single_variation_wrap").on("show_variation",function(e,t){t&&document.querySelector(".woostify-variation-swatches .swatch.selected")&&(document.querySelector(".reset_variations").style.visibility="visible")});var n="",c="";if(o){var u=o.querySelector(".thumbnail-item"),l=u&&0!=u.length?o.querySelector(".image-item"):o.querySelector(".image-item.is-selected");c=u&&0!=u.length?u.cloneNode(!0):null,n=l?l.cloneNode(!0):null}jQuery(".reset_variations").on("click",function(e){if(woostifyEvent.productVariationReady){e.preventDefault(),woostify_woocommerce_general.qty_max_warning=woostify_woocommerce_general.qty_max_warning_default;var t=document.querySelectorAll(".elementor-widget-woostify-product-meta .sku"),r=document.querySelector(".wpm_gtin_code_wrapper .wpm_pgw_code");t&&t.forEach(function(e){e.innerHTML=woostifyEvent.productMetaSkuDefault}),r&&r.forEach(function(e){e.innerHTML=woostifyEvent.productMetaSkuDefault}),setTimeout(function(){var e=document.querySelector(".product-gallery"),t=e.querySelector(".thumbnail-item"),r=t&&0!=t.length?e.querySelector(".image-item"):e.querySelector(".image-item.is-selected"),o=!!r&&r.querySelector("img");if(null!=r){if(o){var i=!!n&&n.querySelector("img"),a=o?o.getAttribute("src"):"",u=o?o.getAttribute("srcset"):"";a=i?i.getAttribute("src"):a,u=i?i.getAttribute("srcset"):u,r.classList.add("image-loading");var l=new Image;l.onload=function(){r.classList.remove("image-loading")},l.src=a,o.setAttribute("src",a),u&&o.setAttribute("srcset",u)}var s=!!t&&t.querySelector("img"),f=s?s.getAttribute("src"):"",d=!!c&&c.querySelector("img");f=d?d.getAttribute("src"):f,s&&s.setAttribute("src",f);var y=r.querySelector("a"),g=y?y.getAttribute("href"):"",p=n.querySelector("a"),g=p?p.getAttribute("href"):g;g&&y.setAttribute("href",g),"function"==typeof easyZoomHandle&&easyZoomHandle(),"function"==typeof initPhotoSwipe&&initPhotoSwipe(".product-images-container"),new WoostifyGallery(".product-gallery",woostify_product_images_slider_options);var m=document.querySelector(".woostify-variation-swatches");m&&m.querySelectorAll(".swatch").forEach(function(e,t){e.classList.remove("selected")})}},200)}}),woostifyEvent.productVariationReady=1}}woostifyEvent.productMetaSkuDefault=productMetaSku?productMetaSku.innerHTML:"",document.addEventListener("DOMContentLoaded",function(){woostifyEvent.productVariationReady||(productVariation(".product-gallery"),"function"==typeof onElementorLoaded&&onElementorLoaded(function(){woostifyEvent.productVariationReady||window.elementorFrontend.hooks.addAction("frontend/element_ready/global",function(){productVariation(".product-gallery")})}))});