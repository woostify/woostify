"use strict";var minusBtn=function(){var t=document.createElement("span"),e=get_svg_icon("minus");return t.setAttribute("class","product-qty"),t.setAttribute("data-qty","minus"),t.innerHTML=e,t},plusBtn=function(){var t=document.createElement("span"),e=get_svg_icon("plus");return t.setAttribute("class","product-qty"),t.setAttribute("data-qty","plus"),t.innerHTML=e,t};function customQuantity(){var t=document.querySelectorAll(".quantity");t.length&&t.forEach(function(t){var e=t.querySelector("input.qty"),r=document.querySelector("body");if(e){"hidden"==e.type&&r.classList.contains("single-product")&&(e.closest(".quantity").style.display="none"),e.classList.add("ajax-ready"),t.querySelector('.product-qty[data-qty="minus"]')||t.insertBefore(minusBtn(),e),t.querySelector('.product-qty[data-qty="plus"]')||t.appendChild(plusBtn()),t.closest("form.cart");var a=t.querySelectorAll(".product-qty"),n=Number(e.getAttribute("max")||-1),o=e.value,i=new Event("change",{bubbles:!0});e.addEventListener("change",function(){var t=e.value,r=Number(e.getAttribute("min")||0);if(Number(t)<r||isNaN(t)||n>0&&Number(t)>n){alert(woostify_woocommerce_general.qty_warning),e.value=o;return}e.classList.add("ajax-ready");var a=e.closest(".product-loop-wrapper");if(a){var i=a.querySelector(".add_to_cart_button");i&&i.setAttribute("data-quantity",t)}});for(var u=0,d=a.length;u<d;u++)a[u].onclick=function(){var t=Number(e.value||0),r=Number(e.getAttribute("step")||1),a=Number(e.getAttribute("min")||0),n=Number(e.getAttribute("max")),o=this.getAttribute("data-qty");if("minus"===o&&t>=r){if(t<=a||t-r<a)return;e.value=Number((t-r).toFixed(r.countDecimals()))}else if("plus"===o){if(n&&(t>=n||t+r>n))return;e.value=Number((t+r).toFixed(r.countDecimals()))}e.dispatchEvent(i);var u=document.querySelector("[name='update_cart']");u&&(u.disabled=!1)}}})}function woostifyValidAddToCartButton(t){var e=t.closest(".product");if(!e)return;var r=e.querySelector(".add_to_cart_button");if(!r)return;let a=r.getAttribute("data-product_id");r.getAttribute("data-quantity");let n=e.querySelector("input.qty"),o=e.querySelector("input.variation_id");null==n&&(n=e.querySelector('input[name="quantity"]'));let i=!!n&&Number(n.value.trim()),u=!!o&&Number(o.value.trim());try{var d=document.querySelector("div.cart-sidebar-content"),c=0;if(d.querySelectorAll(".woocommerce-mini-cart-item").forEach(function(t,e){if((t.querySelector("a.remove_from_cart_button").getAttribute("data-product_id")||0)==a){let r=t.querySelector("input.qty");null==r&&(r=t.querySelector('input[name="quantity"]')),c=!!r&&Number(r.value.trim())}}),u){c=0;let l=d.querySelector('input[data-variation_id="'+u+'"]');l&&(c=Number(l.value.trim()))}var s=parseInt(n.getAttribute("max")),y=c+i;s&&(c>=s||y>s?r.classList.add("disabled"):c>=s&&y==s?r.classList.add("disabled"):r.classList.remove("disabled"))}catch(f){console.warn(f)}}function woostifyValidLoopItemAddToCartButton(){var t=document.querySelectorAll(".quantity");t&&0!=t.length&&t.forEach(function(t){t.querySelector("input.qty").addEventListener("change",function(){woostifyValidAddToCartButton(t)}),woostifyValidAddToCartButton(t)}),jQuery(document.body).on("added_to_cart removed_from_cart",function(){var t=document.querySelectorAll(".quantity");t&&0!=t.length&&t.forEach(function(t){setTimeout(()=>{woostifyValidAddToCartButton(t)},25)})}).trigger("added_to_cart"),jQuery(document.body).on("wc_fragment_refresh updated_wc_div",function(){var t=document.querySelectorAll(".quantity");t&&0!=t.length&&t.forEach(function(t){setTimeout(()=>{woostifyValidAddToCartButton(t)},25)})})}document.addEventListener("DOMContentLoaded",function(){"function"==typeof onElementorLoaded&&onElementorLoaded(function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/woostify-product-add-to-cart.default",function(){customQuantity()})}),customQuantity(),woostifyValidLoopItemAddToCartButton()});